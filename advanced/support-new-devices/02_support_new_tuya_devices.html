<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <script>if(window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) { window.document.querySelector('html').classList.add('dark');} </script><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="mask-icon" color="#ffc135" href="/safari-pinned-tab.svg"><meta name="msapplication-TileColor" content="#ffc135"><meta name="theme-color" content="#ffc135"><title>Support new Tuya devices | Zigbee2MQTT</title><meta name="description" content="Zigbee to MQTT bridge, get rid of your proprietary Zigbee bridges">
    <link rel="preload" href="/assets/js/runtime~app.25f6b4ea.js" as="script"><link rel="preload" href="/assets/css/styles.dc050e6c.css" as="style"><link rel="preload" href="/assets/js/84280.6395e0e8.js" as="script"><link rel="preload" href="/assets/js/app.edcd43a5.js" as="script">
    <link rel="stylesheet" href="/assets/css/styles.dc050e6c.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container content-page"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="Zigbee2MQTT"><span class="site-name can-hide">Zigbee2MQTT</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/guide/getting-started/" class="nav-link" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/adapters/" class="nav-link" aria-label="Supported Adapters"><!--[--><!--]--> Supported Adapters <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/supported-devices/" class="nav-link" aria-label="Supported Devices"><!--[--><!--]--> Supported Devices <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/installation/" class="nav-link" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/configuration/" class="nav-link" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/usage/pairing_devices.md" class="nav-link" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/faq/" class="nav-link" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/supported-devices/" class="nav-link" aria-label="Devices"><!--[--><!--]--> Devices <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Zigbee</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/zigbee/01_zigbee_network.html" class="nav-link" aria-label="Zigbee network"><!--[--><!--]--> Zigbee network <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/02_improve_network_range_and_stability.html" class="nav-link" aria-label="Improve network range and stability"><!--[--><!--]--> Improve network range and stability <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/03_secure_network.html" class="nav-link" aria-label="Secure your Zigbee network"><!--[--><!--]--> Secure your Zigbee network <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/04_sniff_zigbee_traffic.html" class="nav-link" aria-label="Sniff Zigbee traffic"><!--[--><!--]--> Sniff Zigbee traffic <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/05_create_a_cc2530_router.html" class="nav-link" aria-label="Create a CC2530 router"><!--[--><!--]--> Create a CC2530 router <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Support new devices</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/support-new-devices/01_support_new_devices.html" class="nav-link" aria-label="Support new devices"><!--[--><!--]--> Support new devices <!--[--><!--]--></a></li><li class="dropdown-subitem"><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Support new Tuya devices"><!--[--><!--]--> Support new Tuya devices <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="nav-link" aria-label="Find Tuya Data Points"><!--[--><!--]--> Find Tuya Data Points <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Remote Adapter</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_adapter.html" class="nav-link" aria-label="Connect to a remote adapter"><!--[--><!--]--> Connect to a remote adapter <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_sonoff_zbbridge.html" class="nav-link" aria-label="Connect to a remote Sonoff ZBBridge"><!--[--><!--]--> Connect to a remote Sonoff ZBBridge <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>More</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/more/3d_cases.html" class="nav-link" aria-label="3D cases"><!--[--><!--]--> 3D cases <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/more/switch-to-dev-branch.html" class="nav-link" aria-label="Switch to the dev branch"><!--[--><!--]--> Switch to the dev branch <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/more/tuya_xiaomi_ota_url.html" class="nav-link" aria-label="Get Tuya and Xiaomi OTA url"><!--[--><!--]--> Get Tuya and Xiaomi OTA url <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/more/user_extensions.html" class="nav-link" aria-label="User extensions"><!--[--><!--]--> User extensions <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt/discussions" rel="noopener noreferrer" target="_blank" aria-label="Forum"><!--[--><!--]--> Forum <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://discord.gg/NyseBeK" rel="noopener noreferrer" target="_blank" aria-label="Discord"><!--[--><!--]--> Discord <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt/issues" rel="noopener noreferrer" target="_blank" aria-label="Issues"><!--[--><!--]--> Issues <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="Donate"><!--[--><!--]--> Donate <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/guide/getting-started/" class="nav-link" aria-label="Getting started"><!--[--><!--]--> Getting started <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/adapters/" class="nav-link" aria-label="Supported Adapters"><!--[--><!--]--> Supported Adapters <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/supported-devices/" class="nav-link" aria-label="Supported Devices"><!--[--><!--]--> Supported Devices <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/installation/" class="nav-link" aria-label="Installation"><!--[--><!--]--> Installation <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/configuration/" class="nav-link" aria-label="Configuration"><!--[--><!--]--> Configuration <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/usage/pairing_devices.md" class="nav-link" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/guide/faq/" class="nav-link" aria-label="FAQ"><!--[--><!--]--> FAQ <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a href="/supported-devices/" class="nav-link" aria-label="Devices"><!--[--><!--]--> Devices <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Advanced"><span class="title">Advanced</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Zigbee</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/zigbee/01_zigbee_network.html" class="nav-link" aria-label="Zigbee network"><!--[--><!--]--> Zigbee network <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/02_improve_network_range_and_stability.html" class="nav-link" aria-label="Improve network range and stability"><!--[--><!--]--> Improve network range and stability <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/03_secure_network.html" class="nav-link" aria-label="Secure your Zigbee network"><!--[--><!--]--> Secure your Zigbee network <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/04_sniff_zigbee_traffic.html" class="nav-link" aria-label="Sniff Zigbee traffic"><!--[--><!--]--> Sniff Zigbee traffic <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/zigbee/05_create_a_cc2530_router.html" class="nav-link" aria-label="Create a CC2530 router"><!--[--><!--]--> Create a CC2530 router <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Support new devices</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/support-new-devices/01_support_new_devices.html" class="nav-link" aria-label="Support new devices"><!--[--><!--]--> Support new devices <!--[--><!--]--></a></li><li class="dropdown-subitem"><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html" class="router-link-active router-link-exact-active nav-link router-link-active" aria-label="Support new Tuya devices"><!--[--><!--]--> Support new Tuya devices <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="nav-link" aria-label="Find Tuya Data Points"><!--[--><!--]--> Find Tuya Data Points <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>Remote Adapter</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_adapter.html" class="nav-link" aria-label="Connect to a remote adapter"><!--[--><!--]--> Connect to a remote adapter <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/remote-adapter/connect_to_a_remote_sonoff_zbbridge.html" class="nav-link" aria-label="Connect to a remote Sonoff ZBBridge"><!--[--><!--]--> Connect to a remote Sonoff ZBBridge <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>More</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/advanced/more/3d_cases.html" class="nav-link" aria-label="3D cases"><!--[--><!--]--> 3D cases <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/more/switch-to-dev-branch.html" class="nav-link" aria-label="Switch to the dev branch"><!--[--><!--]--> Switch to the dev branch <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/more/tuya_xiaomi_ota_url.html" class="nav-link" aria-label="Get Tuya and Xiaomi OTA url"><!--[--><!--]--> Get Tuya and Xiaomi OTA url <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/advanced/more/user_extensions.html" class="nav-link" aria-label="User extensions"><!--[--><!--]--> User extensions <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Support"><span class="title">Support</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt/discussions" rel="noopener noreferrer" target="_blank" aria-label="Forum"><!--[--><!--]--> Forum <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://discord.gg/NyseBeK" rel="noopener noreferrer" target="_blank" aria-label="Discord"><!--[--><!--]--> Discord <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt/issues" rel="noopener noreferrer" target="_blank" aria-label="Issues"><!--[--><!--]--> Issues <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="Donate"><!--[--><!--]--> Donate <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt" rel="noopener noreferrer" target="_blank" aria-label="Github"><!--[--><!--]--> Github <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="navbar-links-item"><a class="nav-link external" href="https://github.com/Koenkk/zigbee2mqtt.io" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><a href="/advanced/support-new-devices/01_support_new_devices.html" class="nav-link sidebar-heading sidebar-item" aria-label="Support new devices"><!--[--><!--]--> Support new devices <!--[--><!--]--></a><!----><!--]--><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-heading sidebar-item active" aria-label="Support new Tuya devices"><!--[--><!--]--> Support new Tuya devices <!--[--><!--]--></a><ul class=""><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#instructions" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="Instructions"><!--[--><!--]--> Instructions <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_1-standard-part-of-the-setup" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="1. Standard part of the setup"><!--[--><!--]--> 1. Standard part of the setup <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_2-adding-your-device" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="2. Adding your device"><!--[--><!--]--> 2. Adding your device <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_3-understanding-tuya-data-points" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="3. Understanding Tuya data points"><!--[--><!--]--> 3. Understanding Tuya data points <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_4-deciphering-the-data-points" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="4. Deciphering the data points"><!--[--><!--]--> 4. Deciphering the data points <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_5-adding-your-first-data-point" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="5. Adding your first data point"><!--[--><!--]--> 5. Adding your first data point <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_6-bonus-contacting-the-manufacturer" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="6. BONUS: Contacting the manufacturer"><!--[--><!--]--> 6. BONUS: Contacting the manufacturer <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/advanced/support-new-devices/02_support_new_tuya_devices.html#_7-bonus-2-further-reading" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="7. BONUS 2: Further reading"><!--[--><!--]--> 7. BONUS 2: Further reading <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li></ul><!--]--><!--[--><a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="nav-link sidebar-heading sidebar-item" aria-label="Find Tuya Data Points"><!--[--><!--]--> Find Tuya Data Points <!--[--><!--]--></a><!----><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="support-new-tuya-devices" tabindex="-1"><a class="header-anchor" href="#support-new-tuya-devices" aria-hidden="true">#</a> Support new Tuya devices</h1><p>Tuya devices use a custom <code>manuSpecificTuya</code> cluster, the instructions below will help you understand it better and provide some tools to ease discovery of their functions</p><h2 id="instructions" tabindex="-1"><a class="header-anchor" href="#instructions" aria-hidden="true">#</a> Instructions</h2><h3 id="_1-standard-part-of-the-setup" tabindex="-1"><a class="header-anchor" href="#_1-standard-part-of-the-setup" aria-hidden="true">#</a> 1. Standard part of the setup</h3><p>Read through basic <a href="/advanced/support-new-devices/01_support_new_devices.html" class="">howto</a> for instructions on how to setup an external converter</p><h3 id="_2-adding-your-device" tabindex="-1"><a class="header-anchor" href="#_2-adding-your-device" aria-hidden="true">#</a> 2. Adding your device</h3><p>Adding support for TuYa devices is a bit different. In order to provide support for E.G. the <code>TS0601</code> model ID you would create the following external converter:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fz <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/converters/fromZigbee&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tz <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/converters/toZigbee&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> exposes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/lib/exposes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reporting <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/lib/reporting&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> extend <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/lib/extend&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> e <span class="token operator">=</span> exposes<span class="token punctuation">.</span>presets<span class="token punctuation">;</span>
<span class="token keyword">const</span> ea <span class="token operator">=</span> exposes<span class="token punctuation">.</span>access<span class="token punctuation">;</span>
<span class="token keyword">const</span> tuya <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;zigbee-herdsman-converters/lib/tuya&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> definition <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// Since a lot of Tuya devices use the same modelID, but use different data points</span>
    <span class="token comment">// it&#39;s usually necessary to provide a fingerprint instead of a zigbeeModel</span>
    <span class="token literal-property property">fingerprint</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token comment">// The model ID from: Device with modelID &#39;TS0601&#39; is not supported</span>
            <span class="token comment">// You may need to add \u0000 at the end of the name in some cases</span>
            <span class="token literal-property property">modelID</span><span class="token operator">:</span> <span class="token string">&#39;TS0601&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">// The manufacturer name from: Device with modelID &#39;TS0601&#39; is not supported.</span>
            <span class="token literal-property property">manufacturerName</span><span class="token operator">:</span> <span class="token string">&#39;_TZE200_c88teujp&#39;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token string">&#39;SEA802-Zigbee&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token string">&#39;Saswell&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Thermostatic radiator valve&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fromZigbee</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        fz<span class="token punctuation">.</span>ignore_basic_report<span class="token punctuation">,</span> <span class="token comment">// Add this if you are getting no converter for &#39;genBasic&#39;</span>
        fz<span class="token punctuation">.</span>tuya_data_point_dump<span class="token punctuation">,</span> <span class="token comment">// This is a debug converter, it will be described in the next part</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">toZigbee</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        tz<span class="token punctuation">.</span>tuya_data_point_test<span class="token punctuation">,</span> <span class="token comment">// Another debug converter</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onEvent</span><span class="token operator">:</span> tuya<span class="token punctuation">.</span>onEventSetTime<span class="token punctuation">,</span> <span class="token comment">// Add this if you are getting no converter for &#39;commandMcuSyncTime&#39;</span>
    <span class="token function-variable function">configure</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">device<span class="token punctuation">,</span> coordinatorEndpoint<span class="token punctuation">,</span> logger</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> endpoint <span class="token operator">=</span> device<span class="token punctuation">.</span><span class="token function">getEndpoint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">reporting</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> coordinatorEndpoint<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;genBasic&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exposes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// Here you should put all functionality that your device exposes</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> definition<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p>Once finished, restart Zigbee2MQTT and trigger some actions on the device.</p><h3 id="_3-understanding-tuya-data-points" tabindex="-1"><a class="header-anchor" href="#_3-understanding-tuya-data-points" aria-hidden="true">#</a> 3. Understanding Tuya data points</h3><p>The <code>dataReport</code>and <code>dataResponse</code> types of the <code>manuSpecificTuya</code> cluster have their own format:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;seq&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> DataType<span class="token punctuation">.</span>uint16<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;dpValues&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> BuffaloZclDataType<span class="token punctuation">.</span><span class="token constant">LIST_TUYA_DATAPOINT_VALUES</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>seq</code> is the transaction number of the payload. <code>dpValues</code> is an array of &quot;Data Points&quot; (type: <code>TuyaDataPointValue</code>). Such a data point value consists of:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>    <span class="token literal-property property">dp</span><span class="token operator">:</span> DataType<span class="token punctuation">.</span>uint8<span class="token punctuation">;</span>
    <span class="token literal-property property">datatype</span><span class="token operator">:</span> DataType<span class="token punctuation">.</span>uint8<span class="token punctuation">;</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> Buffer<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>dp</code> is so called &quot;Data Point ID&quot; which is at the core of Tuya devices. From the point of view of a device the DPIDs are the functions that the device provides.</li><li><code>datatype</code> is the type of data contained in the <code>data</code> field, see <code>dataTypes</code> in <code>node_modules/zigbee-herdsman-converters/lib/tuya.js</code></li></ul><p>Some data points are &#39;report only&#39; (they report changes that happen within the device) others are &#39;issue and report&#39; (they can report by themselves, but also respond with a report when set). The list of currently known data points can be found in <code>dataPoints</code> in <a href="https://github.com/Koenkk/zigbee-herdsman-converters/blob/master/lib/tuya.js" target="_blank" rel="noopener noreferrer">node_modules/zigbee-herdsman-converters/lib/tuya.js<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a>. Data point IDs may be device dependent, they are not unified across all Tuya devices.</p><p>For example on Saswell thermostat data point number <code>103</code> is heating setpoint, it has <code>value</code> (i.e. integer) type and is &#39;issue and report&#39;, we will use that information later in examples.</p><p>If you have a Tuya gateway, you can find what the function is of data point number by following <a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="">this how-to guide</a></p><h3 id="_4-deciphering-the-data-points" tabindex="-1"><a class="header-anchor" href="#_4-deciphering-the-data-points" aria-hidden="true">#</a> 4. Deciphering the data points</h3><p>By adding the two debug converters mentioned earlier, we have the tools to decipher Tuya data points.</p><h4 id="fz-tuya-data-point-dump" tabindex="-1"><a class="header-anchor" href="#fz-tuya-data-point-dump" aria-hidden="true">#</a> fz.tuya_data_point_dump</h4><p>This converter will log a message for each data point value received in a Tuya specific message from the device. For the &quot;heating setpoint&quot; example with data point number <code>103</code>, this could look like:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>zigbee-herdsman-converters:tuya_data_point_dump: Received DP #103 from 0x123456789abcdef with raw data &#39;{&quot;dp&quot;:103,&quot;datatype&quot;:2,&quot;data&quot;:[0,0,0,215]}&#39;: type=&#39;commandDataResponse&#39;, datatype=&#39;value&#39;, value=&#39;215&#39;, known DP# usage: [&quot;maxTemp&quot;,&quot;moesSboostHeatingCountdownTimeSet&quot;,&quot;neoDuration&quot;,&quot;hyExternalTemp&quot;,&quot;trsIlluminanceLux&quot;,&quot;msVacancyDelay&quot;,&quot;hochActivePower&quot;]
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>The log message contains the data point number, the raw and the decoded data, and the list of symbolic names which are already known for this data point number (from the <code>dataPoints</code> definition in <code>node_modules/zigbee-herdsman-converters/lib/tuya.js</code>).</p><p>In addition to the log entry, the converter will append a line to the file <code>data/tuya.dump.txt</code> (which can be used for test scripts). For each data point value received format of line is:</p><div class="language-txt ext-txt line-numbers-mode"><pre class="language-txt"><code>current_time device_ieee_address seq dpv_number dp datatype data_as_hex_octets
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>A <code>commandDataReport</code> (corresponding to the <code>dataReport</code> type) and <code>commandDataResponse</code> (corresponding to <code>dataResponse</code>) message may contain multiple data point values. <code>dpv_number</code> is the index of the data point value in the payload (0 being the first).</p><p>The example python script <a href="https://github.com/Koenkk/zigbee-herdsman-converters/blob/master/scripts/read_tuya_dump.py" target="_blank" rel="noopener noreferrer">read_tuya_dump.py<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a> is able to parse this file. It&#39;s pre-filled with Saswell data points, but should be easy to modify it to work with your device if needed. On a linux computer/Raspberry Pi you can do <code>tail -f -n +0 data/tuya.dump.txt | read_tuya_dump.py</code> to get real time view of what your device is sending.</p><h4 id="tz-tuya-data-point-test" tabindex="-1"><a class="header-anchor" href="#tz-tuya-data-point-test" aria-hidden="true">#</a> tz.tuya_data_point_test</h4><p>This converter will allow you to send arbitrary data point to Tuya device, you only need to publish a message in the format <code>datatype,dp,data</code> to <code>zigbee2mqtt/{device_friendly_name}/set/tuya_data_point_test</code> MQTT topic</p><h3 id="_5-adding-your-first-data-point" tabindex="-1"><a class="header-anchor" href="#_5-adding-your-first-data-point" aria-hidden="true">#</a> 5. Adding your first data point</h3><p>Let&#39;s assume we want to add the heating setpoint of the Saswell thermostat first.</p><p>As the log message for the data point did not contain a suitable existing definition, first add the <code>saswellHeatingSetpoint</code> data point to <code>dataPoints</code> in <code>node_modules/zigbee-herdsman-converters/lib/tuya.js</code> with value <code>103</code>.</p><p>Then add to <code>node_modules/zigbee-herdsman-converters/converters/fromZigbee.js</code>:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">saswell_thermostat</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">cluster</span><span class="token operator">:</span> <span class="token string">&#39;manuSpecificTuya&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;commandDataResponse&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;commandDataReport&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">convert</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">model<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> publish<span class="token punctuation">,</span> options<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> dpValue <span class="token keyword">of</span> msg<span class="token punctuation">.</span>data<span class="token punctuation">.</span>dpValues<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> dp <span class="token operator">=</span> dpValue<span class="token punctuation">.</span>dp<span class="token punctuation">;</span> <span class="token comment">// First we get the data point ID</span>
            <span class="token keyword">const</span> value <span class="token operator">=</span> tuya<span class="token punctuation">.</span><span class="token function">getDataValue</span><span class="token punctuation">(</span>dpValue<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This function will take care of converting the data to proper JS type</span>
            <span class="token keyword">switch</span> <span class="token punctuation">(</span>dp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> tuya<span class="token punctuation">.</span>dataPoints<span class="token punctuation">.</span>saswellHeatingSetpoint<span class="token operator">:</span> <span class="token comment">// DPID that we added to common</span>
                result<span class="token punctuation">.</span>current_heating_setpoint <span class="token operator">=</span> <span class="token punctuation">(</span>value <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// value is already converted to a number in JS, and we deduced that it needs to be divided by 10</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token keyword">default</span><span class="token operator">:</span>
                meta<span class="token punctuation">.</span>logger<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">zigbee-herdsman-converters:SaswellThermostat: NOT RECOGNIZED DP #</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
                    dp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> with data </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>dpValue<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// This will cause zigbee2mqtt to print similar data to what is dumped in tuya.dump.txt</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>Then add to <code>node_modules/zigbee-herdsman-converters/converters/toZigbee.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">saswell_thermostat_current_heating_setpoint</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;current_heating_setpoint&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token function-variable function">convertSet</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">entity<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> meta</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> temp <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>value <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> tuya<span class="token punctuation">.</span><span class="token function">sendDataPointValue</span><span class="token punctuation">(</span>entity<span class="token punctuation">,</span> tuya<span class="token punctuation">.</span>dataPoints<span class="token punctuation">.</span>saswellHeatingSetpoint<span class="token punctuation">,</span> temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// tuya.sendDataPoint* functions take care of converting the data to proper format</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>The <code>tuya.sendDataPoint*</code> functions send a single data point value. In case you want to send multiple data points at once, you can use the <code>tuya.sendDataPoints</code> function like this:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>        await tuya.sendDataPoints(
            entity,
            [
                tuya.dpValueFromBool(first_dp_id, first_dp_value),
                tuya.dpValueFromEnum(second_dp_id, second_dp_value),
            ],
        );
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>Now update your external converter:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fz <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/converters/fromZigbee&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tz <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/converters/toZigbee&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> exposes <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/lib/exposes&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> reporting <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/lib/reporting&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> extend <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;zigbee-herdsman-converters/lib/extend&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> e <span class="token operator">=</span> exposes<span class="token punctuation">.</span>presets<span class="token punctuation">;</span>
<span class="token keyword">const</span> ea <span class="token operator">=</span> exposes<span class="token punctuation">.</span>access<span class="token punctuation">;</span>

<span class="token keyword">const</span> definition <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">fingerprint</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token literal-property property">modelID</span><span class="token operator">:</span> <span class="token string">&#39;TS0601&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">manufacturerName</span><span class="token operator">:</span> <span class="token string">&#39;_TZE200_c88teujp&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">model</span><span class="token operator">:</span> <span class="token string">&#39;SEA802-Zigbee&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token string">&#39;Saswell&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Thermostatic radiator valve&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">fromZigbee</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        fz<span class="token punctuation">.</span>ignore_basic_report<span class="token punctuation">,</span>
        fz<span class="token punctuation">.</span>tuya_data_point_dump<span class="token punctuation">,</span>
        fz<span class="token punctuation">.</span>saswell_thermostat<span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">toZigbee</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        tz<span class="token punctuation">.</span>tuya_data_point_test<span class="token punctuation">,</span>
        tz<span class="token punctuation">.</span>saswell_thermostat_current_heating_setpoint<span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">onEvent</span><span class="token operator">:</span> tuya<span class="token punctuation">.</span>onEventSetTime<span class="token punctuation">,</span>
    <span class="token function-variable function">configure</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">device<span class="token punctuation">,</span> coordinatorEndpoint<span class="token punctuation">,</span> logger</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> endpoint <span class="token operator">=</span> device<span class="token punctuation">.</span><span class="token function">getEndpoint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">await</span> <span class="token function">bind</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">,</span> coordinatorEndpoint<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#39;genBasic&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">exposes</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// Here you should put all functionality that your device exposes</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> definition<span class="token punctuation">;</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p>Repeat for all data points.</p><h3 id="_6-bonus-contacting-the-manufacturer" tabindex="-1"><a class="header-anchor" href="#_6-bonus-contacting-the-manufacturer" aria-hidden="true">#</a> 6. BONUS: Contacting the manufacturer</h3><p>When contacting a manufacturer of Tuya compatible device DO NOT ask for Zigbee protocol of the device, they usually have no idea how the Tuya radio that they bought communicates over Zigbee. Instead ask for the UART protocol for their device, this should give you a better cooperation. You can also ask them about DPIDs and data formats for their functions.</p><h3 id="_7-bonus-2-further-reading" tabindex="-1"><a class="header-anchor" href="#_7-bonus-2-further-reading" aria-hidden="true">#</a> 7. BONUS 2: Further reading</h3><p>You can read more about how the device communicates with Tuya Zigbee radio module <a href="https://developer.tuya.com/en/docs/iot/device-development/access-mode-mcu/zigbee-general-solution/tuya-zigbee-module-uart-communication-protocol/tuya-zigbee-module-uart-communication-protocol?id=K9ear5khsqoty" target="_blank" rel="noopener noreferrer">here<span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span></a></p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="nav-link external meta-item-label" href="https://github.com/Koenkk/zigbee2mqtt.io/edit/master/docs/advanced/support-new-devices/02_support_new_tuya_devices.md" rel="noopener noreferrer" target="_blank" aria-label="✏ Help to make the docu better and edit this page on Github ✌"><!--[--><!--]--> ✏ Help to make the docu better and edit this page on Github ✌ <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><span class="meta-item-info">8/28/2022, 5:12:34 PM</span></div><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"> ← <a href="/advanced/support-new-devices/01_support_new_devices.html" class="nav-link" aria-label="Support new devices"><!--[--><!--]--> Support new devices <!--[--><!--]--></a></span><span class="next"><a href="/advanced/support-new-devices/03_find_tuya_data_points.html" class="nav-link" aria-label="Find Tuya Data Points"><!--[--><!--]--> Find Tuya Data Points <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/assets/js/runtime~app.25f6b4ea.js" defer></script><script src="/assets/js/84280.6395e0e8.js" defer></script><script src="/assets/js/app.edcd43a5.js" defer></script>
  </body>
</html>
